<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | NFC Lock</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üîí NFC Lock</h1>
            <p class="subtitle">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à –∑–∞–º–æ–∫ –∑–∞ 1 –º–∏–Ω—É—Ç—É</p>
        </header>

        <form id="regForm">
            <div class="input-group">
                <label for="lastName">–§–∞–º–∏–ª–∏—è</label>
                <input type="text" id="lastName" placeholder="–ò–≤–∞–Ω–æ–≤">
            </div>

            <div class="input-group">
                <label for="firstName">–ò–º—è*</label>
                <input type="text" id="firstName" placeholder="–ò–≤–∞–Ω" required>
            </div>

            <div class="input-group">
                <label for="middleName">–û—Ç—á–µ—Å—Ç–≤–æ</label>
                <input type="text" id="middleName" placeholder="–ò–≤–∞–Ω–æ–≤–∏—á">
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="agree" required>
                <label for="agree">–Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å <a href="privacy.html">–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a></label>
            </div>

            <button type="submit" class="btn-primary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </form>
    </div>

    <script>
        document.getElementById('regForm').onsubmit = function(e) {
            e.preventDefault();
            const userData = {
                lastName: document.getElementById('lastName').value,
                firstName: document.getElementById('firstName').value,
                middleName: document.getElementById('middleName').value,
                hash: Math.random().toString(36).slice(2, 10)
            };
            
            localStorage.setItem('nfcUser', JSON.stringify(userData));
            window.location.href = `control.html?firstName=${encodeURIComponent(userData.firstName)}&hash=${userData.hash}`;
        };

        // –ê–≤—Ç–æ–ø–µ—Ä–µ—Ö–æ–¥ –µ—Å–ª–∏ —É–∂–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å
        if (localStorage.getItem('nfcUser')) {
            const user = JSON.parse(localStorage.getItem('nfcUser'));
            window.location.href = `control.html?firstName=${encodeURIComponent(user.firstName)}&hash=${user.hash}`;
        }
    </script>
</body>
</html>